<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> 
<html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css({.tmp,app}) styles/main.css -->
            <link rel="stylesheet" href="styles/main.css" />
            <link rel="stylesheet" href="styles/bootstrap.icon-large.min.css" />
            <link rel="stylesheet" href="bower_components/jquery-ui/themes/smoothness/jquery-ui.min.css" />
            <link rel="stylesheet" href="bower_components/d3.TimeSlider/d3.timeslider.min.css" />
            <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css" />
            <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
            <link rel="stylesheet" href="bower_components/d3.Graphs/lib/styles/av.min.css">
            <link rel="stylesheet" href="bower_components/cesium/Build/Cesium/Widgets/widgets.css">
            <link rel="stylesheet" href="scripts/vendor/cesium_DrawHelper.css">
        <!-- endbuild -->

        <!-- Possible path configurations if dependency files are on different paths -->
        <script type="text/javascript">

            var CONFIG_URL = "scripts/config.json";
            CESIUM_BASE_URL = "bower_components/cesium/Build/Cesium/";
            var require = {
                baseUrl : "scripts/"
            };

            var PRODUCT_URL = "https://wcs-eo4sdcr.adamplatform.eu/";
            var fetchCollectionListURL  = PRODUCT_URL+'wcs?service=WCS&Request=GetCapabilities&version=2.0.0';
            /*var USER_PRODUCTS = [];

            var request = new XMLHttpRequest();
            request.open('GET', fetchCollectionListURL, false);  // `false` makes the request synchronous
            request.send(null);

            if (request.status === 200) {
              
                var collections = request.responseXML.getElementsByTagName('CoverageId');
                for (col = 0; col  < collections.length; col++) {
                    var colID = collections[col].textContent;
                    console.log(colID);
                    if(colID.indexOf('S5P') !== -1 || colID.indexOf('CAMS') !== -1){
                        USER_PRODUCTS.push({
                            "name": colID.replace(/_/g, ' '),
                            "id": colID,
                            "date": ["May 3, 2018","Oct. 28, 2018"],
                            "parameters": {
                                "Parameter1": {
                                    "range":[ 0, 100 ],"uom":"",
                                }
                            }
                        });
                    }
                }
            }*/


            var USER_PRODUCTS = [
                {
                    "name": "CH4 total column",
                    "id": "S5P_OFFL_L2__CH4_4326_0035",
                    "description": "Sentinel 5P Methane (CH4) total column",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 1500,2000 ],"uom":"mol/m2",
                        }
                    }
                },
                {
                    "name": "NO2 tropospheric column",
                    "id": "S5P_NRTI_L2__NO2_4326_0035",
                    "description": "Sentinel 5P Nitrogen Dioxide (NO2) tropospheric columns",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0,0.0005 ],"uom":"mol/m2",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "SO2 total column",
                    "id": "S5P_NRTI_L2__SO2_4326_0035",
                    "description": "Sentinel 5P Sulfur Dioxide (SO2) total column",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 0.002 ],"uom":"mol/m2",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "CO Vertical  column",
                    "id": "S5P_NRTI_L2__CO_4326_0035",
                    "description": "Sentinel 5P Carbn Monoxide (CO) total column",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.001,0.05 ],"uom":"mol/m2",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "O3 tropospheric column",
                    "id": "S5P_NRTI_L2__O3_4326_0035",
                    "description": "Sentinel 5P Ozone (O3) tropospheric column",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.1, 0.25 ],"uom":"mol/m2",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "Aerosol index - Near real time",
                    "id": "S5P_NRTI_L2__AER_AI_4326_0035",
                    "description": "Sentinel 5P UV Aerosol Index 340-480 nm",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ -2, 2 ],"uom":null,
                            "clamp_max":true,
                            "nullValue": [0, 9.9692099683869e+36]
                        }
                    }
                },
                {
                    "name": "Aerosol index - Offline",
                    "id": "S5P_OFFL_L2__AER_AI_4326_0035",
                    "description": "Sentinel 5P UV Aerosol Index 340-480 nm",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ -2, 2 ],"uom":null,
                            "clamp_max":true,
                            "nullValue": [0, 9.9692099683869e+36]
                        }
                    }
                },
                {
                    "name": "PM10 Stations",
                    "id": "PM10",
                    "description": "PM10 Stations data",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.1, 150 ],"uom":"µg/m3",
                            "clamp_max":true
                        }
                    },
                    "groundMeasurements": true
                },
                {
                    "name": "SO2 Stations",
                    "id": "SO2",
                    "description": "SO2 Stations data",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.0, 150 ],"uom":"µg/m3",
                            "clamp_max":true
                        }
                    },
                    "groundMeasurements": true
                },
                {
                    "name": "Aerosol index QA-values",
                    "id": "S5P_LEVEL2_QA_AER_AI_4326_0035",
                    "description": "Quality values for Sentinel 5P UV Aerosol Index 340-480 nm",
                    "date":
                    ["Oct. 1, 2018","Dec. 01, 2018"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 100 ],"uom":null,
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "Global SO2 forecast",
                    "id": "Z_CAMS_C_ECMF_TCSO2",
                    "description": "CAMS ECMWF SO2 Surface forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 0.00005 ],"uom":"kg/m3",
                        }
                    }
                },
                {
                    "name": "Global NO2 forecast",
                    "id": "Z_CAMS_C_ECMF_TCNO2",
                    "description": "CAMS ECMWF NO2 Surface forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 0.00005 ],"uom":"kg/m3",
                        }
                    }
                },
                {
                    "name": "Global O3 forecast",
                    "id": "Z_CAMS_C_ECMF_GTCO3",
                    "description": "CAMS ECMWF O3 total column forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 0.01 ],"uom":"kg/m3",
                        }
                    }
                },
                {
                    "name": "Global PM10 forecast",
                    "id": "Z_CAMS_C_ECMF_PM10",
                    "description": "CAMS ECMWF PM10 Surface forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.0, 150 ],"uom":"μg/m3",
                        }
                    }
                },
                {
                    "name": "European SO2 analysis and forecast",
                    "id": "EU_CAMS_SURFACE_SO2_4326_01",
                    "description": "CAMS EU Regional SO2 surface analysis and forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 0.00000001 ],"uom":"kg/m3",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "European NO2 analysis and forecast",
                    "id": "EU_CAMS_SURFACE_NO2_4326_01",
                    "description": "CAMS EU Regional NO2 surface analysis and forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 0.00000001 ],"uom":"kg/m3",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "European O3 analysis and forecast",
                    "id": "EU_CAMS_SURFACE_O3_4326_01",
                    "description": "CAMS EU Regional O3 surface analysis and forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.0, 0.0000002 ],"uom":"kg/m3",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "European PM10 analysis and forecast",
                    "id": "EU_CAMS_SURFACE_PM10_4326_01",
                    "description": "CAMS EU Regional PM10 surface analysis and forecast",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0, 150 ],"uom":"μg/m3",
                            "clamp_max":true
                        }
                    }
                },
                {
                    "name": "ZAMG WRF-Chem EU dust analysis",
                    "id": "WRFCHEM_DUSTcol",
                    "description": "",
                    "date":
                    ["May 3, 2018","Oct. 28, 2019"],
                    "parameters": {
                        "Parameter1": {
                            "range":[ 0.0, 200 ],"uom":"mg/m2",
                        }
                    }
                }
            ];

            
        </script>

        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="bower_components/modernizr/modernizr.js"></script>
        <!-- endbuild -->

        <script type="text/javascript" src="scripts/vendor/vmanip-core/vmanip-core-deps.debug.js"></script>
        <script type="text/javascript" src="scripts/vendor/vmanip-core/vmanip-core.debug.js"></script>
        <!--<script type="text/javascript" src="scripts/vendor/K3D.js"></script>
        <script type="text/javascript" src="scripts/vendor/rectangularboxviewer/RectangularBoxViewer-deps.debug.js"></script>
        <script type="text/javascript" src="scripts/vendor/rectangularboxviewer/RectangularBoxViewer.debug.js"></script>-->
        <script type="text/javascript" src="bower_components/Keypress/keypress.js"></script>          
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <div id="content">
            <div id="main"></div>
            <div id="viewContent"></div>
            <div id="leftSideBar"></div>
            <div id="rightSideBar"></div>
            <div id="optionsBar"></div>
            <div id="topBar"></div>
            <div id="bottomBar"></div>
        </div>

        <div id="storyView" style="z-index: 0;"></div>

        <!--<div id="loadscreen" class="modal-backdrop"> <i class="fa fa-spinner fa-spin fa-4x"></i> </div>-->
        <div id="loadscreen" class="modal-backdrop">
            <div id="loading-spacer">
                <div class="project-title">TOP</div>
            </div>
            <div class="sk-folding-cube">
              <div class="sk-cube1 sk-cube"></div>
              <div class="sk-cube2 sk-cube"></div>
              <div class="sk-cube4 sk-cube"></div>
              <div class="sk-cube3 sk-cube"></div>
            </div>
        </div>

        <!-- HIDDEN DOWNLOAD DIV -->
        <div id="div-downloads">
          <iframe name="iframe-download-post" id="iframe-download-post"></iframe>
        </div>

        <!-- HIDDEN X3DOM DIV -->
        <div id="x3dom-hidden" style="display:none">
            <div id="x3dom-wrapper">
                <div id="progressbar"></div>
                <X3D id="x3d" showlog="false" showstat="false" showprogress="false">
                    <scene id="x3dScene"></scene>
                </X3D>
      
                <div id='x3domUI'></div>
            </div>
        </div>

        <script id="rbv-empty-view-template" type="text/html">
          <i class="sprite sprite-scatter"></i> Please select an Area of Interest (AoI) in one of the MapViewer!
        </script>

        <div id="preload">
           <img src="images/glyphicons.png" width="1" height="1" alt="Preload image" />
        </div>

        <div id="error-messages"></div>

        <div id="pngdataurl"></div>

        <div id="playercontrols" style="pointer-events: none;">
            <div class="btn-group" role="group" aria-label="..." style="pointer-events: all;">
              <button type="button" class="btn btn-default" id="step-back-button"><i class="fa fa-step-backward"></i></button>
              <button type="button" class="btn btn-default" id="play-button"><i class="fa fa-play"></i></button>
              <button type="button" class="btn btn-default" id="fast-play-button"><i class="fa fa-forward"></i></button>
              <button type="button" class="btn btn-default" id="step-forward-button"><i class="fa fa-step-forward"></i></button>
            </div>
        </div>

        <div id="pickingresults"></div>

        <div id="timestamp"></div>

        <div style="position: absolute; top: 15px; right: 310px; z-index: 1030; color: white;" data-toggle="tooltip" title="Usefull for selecting long time series for triggering processing">
            <label style="font-weight: normal">
                <input style="vertical-align: middle; position: relative; top: -3px;" id="stop_visualization" type="checkbox" name="checkbox" value="value"> Disable product load
            </label>
        </div>

        <div id="loadingcontrols" style="pointer-events: none; text-align: center;"></div>




        <div id="terrain_attribution">
            <p style="float: right"><a href="javascript:;" onclick="toggle(terrain_attribution)">×</a></p>
            <p>Terrain map data</p>
            <ul>
                <li>OpenStreetMap © <a href="http://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap contributors</a></li>
                <li>NaturalEarth <a href="http://www.naturalearthdata.com/about/terms-of-use/" target="_blank">public domain</a></li>
                <li>EU-DEM © Produced using Copernicus data and information<br>funded by the European Union</li>
                <li>SRTM © <a href="http://nasa.gov" target="_blank">NASA</a></li>
                <li>GTOPO30</li>
                <li>CleanTOPO2 public domain</li>
                <li>GlobCover © <a href="http://esa.int" target="_blank">ESA</a></li>
            </ul>
            <p>Terrain map design © <a href="http://eox.at" target="_blank">EOX IT Services GmbH</a></p>
        </div>

        <script>
            // Used to display/hide terrain attribution
            function toggle(e) { e.style.display = (e.style.display == 'block' ? 'none' : 'block'); }
        </script>

        <!-- build:js init.js -->
        <script data-main="init" src="bower_components/requirejs/require.js"></script>     
        <!-- endbuild -->




    </body>
</html>
